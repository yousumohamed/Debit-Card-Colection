<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>My Cards - Draggable with Physics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- <link rel="shortcut icon" href="assets/card.png" type="image/x-icon"> -->
    <link rel="shortcut icon" href="assets/credit-card.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .card {
            position: absolute;
            cursor: grab;
            transition: transform 0.18s ease, box-shadow 0.18s ease;
            will-change: left, top, transform;
            touch-action: none;
        }

        .card:active {
            cursor: grabbing;
        }

        .card.dragging {
            transform: scale(1.08) rotate(1deg);
            box-shadow: 0 20px 45px rgba(0, 0, 0, 0.45);
        }

        .glow-text {
            text-shadow: 0 0 10px #7c3aed, 0 0 20px #7c3aed, 0 0 30px #7c3aed;
            animation: pulseGlow 2s infinite alternate;
        }

        @keyframes pulseGlow {
            0% {
                text-shadow: 0 0 5px #7c3aed;
            }

            100% {
                text-shadow: 0 0 20px #7c3aed, 0 0 30px #7c3aed;
            }
        }

        /* ðŸ”¥ Snake border effect for <main> */
        main {
            position: relative;
            border-radius: 20px;
            overflow: hidden;
        }

        /* First snake */
        main::before {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: 20px;
            padding: 3px;
            background: conic-gradient(from 0deg,
                    #7c3aed 0%,
                    transparent 10%,
                    transparent 90%,
                    #7c3aed 100%);
            -webkit-mask: linear-gradient(#fff 0 0) content-box,
                linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: snake 3s linear infinite;
        }

        /* Second snake */
        main::after {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: 20px;
            padding: 5px;
            background: conic-gradient(from 180deg,
                    #a78bfa 0%,
                    transparent 10%,
                    transparent 90%,
                    #a78bfa 100%);
            -webkit-mask: linear-gradient(#fff 0 0) content-box,
                linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: snakeReverse 4s linear infinite;
        }

        @keyframes snake {
            to {
                transform: rotate(360deg);
            }
        }

        @keyframes snakeReverse {
            to {
                transform: rotate(-360deg);
            }
        }
    </style>
</head>

<body class="bg-gray-900 text-white overflow-hidden min-h-screen flex flex-col p-4 relative">

    <!-- Background Glows -->
    <div
        class="absolute top-0 left-0 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-purple-600/30 rounded-full blur-3xl opacity-50 z-0">
    </div>
    <div
        class="absolute bottom-0 right-0 translate-x-1/2 translate-y-1/2 w-[600px] h-[600px] bg-blue-600/30 rounded-full blur-3xl opacity-50 z-0">
    </div>

    <!-- Header -->
    <!-- Header -->
    <header class="w-full flex justify-between items-center z-10 px-6 py-4 relative">
        <div class="flex items-center space-x-3 absolute left-6 top-6 cursor-move" id="draggable-title">
            <!-- ðŸ”¥ Card image in front -->
            <img src="/assets/card.png" alt="card logo" class="w-10 h-10">
            <h1 class="text-4xl md:text-5xl font-bold glow-text">Jose Vaulted</h1>
        </div>
        <div class="flex items-center space-x-4 ml-auto">
            <a href="auth.html" class="text-gray-400 hover:text-white transition">Sign in</a>
            <a href="auth.html"
                class="bg-white text-gray-900 px-4 py-2 rounded-md font-semibold hover:bg-gray-200 transition">Sign
                up</a>
        </div>
    </header>

    <!-- Main -->
    <main
        class="flex-1 flex flex-col lg:flex-row items-center justify-center text-center lg:text-left w-full max-w-6xl mx-auto z-10 mt-20">
        <div class="lg:w-1/2 mb-12 lg:mb-0">
            <h2 class="text-5xl md:text-6xl font-bold mb-4 leading-tight">
                Welcome Back To <span id="user-name" class="text-purple-400"></span>!
            </h2>
            <p class="text-gray-400 max-w-md mx-auto lg:mx-0">
                Manage your cards efficiently and securely. Add, edit, and view all your cards in one place.
            </p>
        </div>

        <!-- Cards -->
        <div class="lg:w-1/2 flex justify-center lg:justify-end relative h-[400px] w-full">
            <div
                class="card w-72 h-44 bg-gradient-to-br from-gray-700 to-gray-800 rounded-xl shadow-2xl p-4 flex flex-col justify-between z-10">
                <div class="flex justify-between items-start">
                    <span class="font-bold text-lg">VAULTED BANK</span>
                    <span class="font-mono text-lg italic">VISA</span>
                </div>
                <div class="text-left">
                    <p class="font-mono text-xl tracking-widest">**** **** **** 1234</p>
                    <p class="text-sm text-gray-400">JOSE.BOT</p>
                </div>
            </div>

            <div
                class="card w-72 h-44 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl shadow-2xl p-4 flex flex-col justify-between z-20">
                <div class="flex justify-between items-start">
                    <span class="font-bold text-lg">VAULTED BANK</span>
                    <span class="font-mono text-lg italic">Mastercard</span>
                </div>
                <div class="text-left">
                    <p class="font-mono text-xl tracking-widest">**** **** **** 5678</p>
                    <p class="text-sm text-gray-400">YUSUF</p>
                </div>
            </div>
        </div>
    </main>

    <script>
        const names = ["Cardfolio", "YUSUF Cardify", "JoseCards", "DebitDex", "MYvisa&ms-card"];
        let i = 0, charIndex = 0, currentName = "";
        const userNameSpan = document.getElementById("user-name");
        function type() { if (charIndex < names[i].length) { currentName += names[i].charAt(charIndex); userNameSpan.textContent = currentName; charIndex++; setTimeout(type, 150); } else setTimeout(erase, 2000); }
        function erase() { if (charIndex > 0) { currentName = currentName.slice(0, -1); userNameSpan.textContent = currentName; charIndex--; setTimeout(erase, 100); } else { i = (i + 1) % names.length; setTimeout(type, 500); } }

        let topZ = 200;

        document.addEventListener('DOMContentLoaded', () => {
            type();
            document.querySelectorAll('.card').forEach((card, idx) => {
                const left = 100 + idx * 160;
                const top = 80 + idx * 30;
                card.style.left = left + 'px';
                card.style.top = top + 'px';
                card.dataset.origLeft = left;
                card.dataset.origTop = top;
                makeDraggable(card);
            });
            makeDraggable(document.getElementById('draggable-title'), true);
        });

        function makeDraggable(el, ignoreBounds = false) {
            let isDragging = false;
            let offsetX = 0, offsetY = 0;
            let parentRect = null;
            let lastX = 0, lastY = 0, velocityX = 0, velocityY = 0;
            let lastTime = 0;
            let inertiaFrame;

            el.addEventListener('mousedown', dragStart);
            el.addEventListener('touchstart', dragStart, { passive: false });

            function dragStart(e) {
                e.preventDefault();
                isDragging = true;
                el.classList.add('dragging');
                el.style.zIndex = ++topZ;
                document.body.style.userSelect = 'none';

                const rect = el.getBoundingClientRect();
                const clientX = e.type === 'mousedown' ? e.clientX : e.touches[0].clientX;
                const clientY = e.type === 'mousedown' ? e.clientY : e.touches[0].clientY;
                offsetX = clientX - rect.left;
                offsetY = clientY - rect.top;

                parentRect = (el.offsetParent || document.documentElement).getBoundingClientRect();

                lastX = clientX;
                lastY = clientY;
                lastTime = performance.now();

                cancelAnimationFrame(inertiaFrame);

                if (e.type === 'mousedown') {
                    document.addEventListener('mousemove', dragMove);
                    document.addEventListener('mouseup', dragEnd);
                } else {
                    document.addEventListener('touchmove', dragMove, { passive: false });
                    document.addEventListener('touchend', dragEnd);
                }
            }

            function dragMove(e) {
                if (!isDragging) return;
                e.preventDefault();
                const clientX = e.type === 'mousemove' ? e.clientX : e.touches[0].clientX;
                const clientY = e.type === 'mousemove' ? e.clientY : e.touches[0].clientY;

                let left = clientX - offsetX - parentRect.left;
                let top = clientY - offsetY - parentRect.top;

                if (!ignoreBounds) {
                    const elW = el.offsetWidth, elH = el.offsetHeight;
                    left = Math.min(Math.max(left, 0), parentRect.width - elW);
                    top = Math.min(Math.max(top, 0), parentRect.height - elH);
                }

                el.style.left = left + 'px';
                el.style.top = top + 'px';

                const now = performance.now();
                const dt = now - lastTime;
                if (dt > 0) {
                    velocityX = (clientX - lastX) / dt;
                    velocityY = (clientY - lastY) / dt;
                }
                lastX = clientX;
                lastY = clientY;
                lastTime = now;
            }

            function dragEnd() {
                if (!isDragging) return;
                isDragging = false;
                el.classList.remove('dragging');
                document.body.style.userSelect = '';
                document.removeEventListener('mousemove', dragMove);
                document.removeEventListener('mouseup', dragEnd);
                document.removeEventListener('touchmove', dragMove);
                document.removeEventListener('touchend', dragEnd);

                applyInertia();
            }

            function applyInertia() {
                let left = parseFloat(el.style.left) || 0;
                let top = parseFloat(el.style.top) || 0;

                function step() {
                    left += velocityX * 16;
                    top += velocityY * 16;

                    velocityX *= 0.92;
                    velocityY *= 0.92;

                    if (!ignoreBounds) {
                        const elW = el.offsetWidth, elH = el.offsetHeight;
                        if (left < 0) { left = 0; velocityX *= -0.4; }
                        if (top < 0) { top = 0; velocityY *= -0.4; }
                        if (left > parentRect.width - elW) { left = parentRect.width - elW; velocityX *= -0.4; }
                        if (top > parentRect.height - elH) { top = parentRect.height - elH; velocityY *= -0.4; }
                    }

                    el.style.left = left + 'px';
                    el.style.top = top + 'px';

                    if (Math.abs(velocityX) > 0.05 || Math.abs(velocityY) > 0.05) {
                        inertiaFrame = requestAnimationFrame(step);
                    }
                }
                inertiaFrame = requestAnimationFrame(step);
            }
        }
    </script>
</body>

</html>